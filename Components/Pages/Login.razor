@page "/"
@page "/login"

@layout BaseLayout

<RadzenStack JustifyContent="JustifyContent.Center" AlignItems="AlignItems.Center" Style="width: 100vw; height: 100vh;">
    <RadzenImage Path="/tempLogo.png" Style="width: 100px; height: auto;" />
    <RadzenText Text="Just In Time" TextStyle="TextStyle.DisplayH3" class="mb-0" />
    <RadzenText Text="Timely attendance and records" TextStyle="TextStyle.Caption" class="mb-5" />

    <RadzenCard Style="width: 60vw">
        <ChildContent>
            <RadzenTemplateForm TItem="Credential" Data="Creds" Submit="@Submit">
                <RadzenStack JustifyContent="JustifyContent.Center" AlignItems="AlignItems.Center">

                    <RadzenStack Gap="0" class="w-100">
                        <RadzenFormField Text="LRN">
                            <RadzenTextBox @bind-Value=@Creds.EmailOrLRN Disabled=appState.IsBusy Name="jits-rtb-lrn" class="w-100" />
                        </RadzenFormField>
                        <RadzenRequiredValidator Component="jits-rtb-lrn" Text="Required" />
                        <RadzenRegexValidator Pattern="^\d{12}$" Component="jits-rtb-lrn" Text="Invalid LRN" />
                    </RadzenStack>
        
                    <RadzenStack Gap="0" class="w-100">
                        <RadzenFormField Text="Password">
                            <RadzenPassword @bind-Value=@Creds.Password Disabled=appState.IsBusy Name="jits-rp-password" class="w-100" />
                        </RadzenFormField>
                        <RadzenRequiredValidator Component="jits-rp-password" Text="Required" />
                    </RadzenStack>

                    <RadzenButton ButtonType="ButtonType.Submit" Text="Login" IsBusy=@appState.IsBusy class="w-100 mt-3" />

                </RadzenStack>
            </RadzenTemplateForm>
        </ChildContent>
    </RadzenCard>

    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" class="mt-5">
        <RadzenText Text="Don't have an account?" TextStyle="TextStyle.Caption" />
        <RadzenText Text="Sign up" TextStyle="TextStyle.Caption" Style="color: var(--rz-primary);" @onclick="@SignUp" />
    </RadzenStack>
</RadzenStack>